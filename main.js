const softwareProjects =
{
    'Word of the Day Generator':
    {
        lang: 'Python',
        desc: 'Automatically generate posts for Japanese vocabulary words, including definitions and example sentences',
        sourceCode: 'https://github.com/debashisbiswas/word-of-the-day'
    },
    'Additive Synthesis Website':
    {
        lang: 'HTML/CSS/JS + Bootstrap',
        desc: 'Webpage that demonstrates instrumental additive synthesis through the JavaScript Web Audio API',
        sourceCode: 'https://github.com/debashisbiswas/timbre-gen',
        projectLink: 'https://debashisbiswas.github.io/timbre-gen/'
    },
    'Scale Scrambler':
    {
        lang: 'HTML/CSS/JS + Bootstrap',
        desc: 'Responsive web app that randomizes fundamental exercises to supplement music practice',
        sourceCode: 'https://github.com/debashisbiswas/scales',
        projectLink: 'https://debashisbiswas.github.io/scales'
    },
    'KKΨ Beta Omicron Website':
    {
        lang: 'Firebase + Node.js + Bootstrap',
        desc: 'Website, built from the ground up, to digitize history for the Beta Omicron Chapter of ΚΚΨ.',
        projectLink: 'https://kkp-bo-website.web.app'
    },
    'KOA Pom War 2021 Bot':
    {
        lang: 'Python + MySQL',
        desc: 'Discord bot that managed the Knights of Academia 2021 Pom War, a competition to log pomodoro sessions',
    },
    'KOA Pom War 2020 Bot':
    {
        lang: 'Python + PostgreSQL',
        desc: 'Discord bot that managed the Knights of Academia 2020 Pom War, a competition to log pomodoro sessions',
    },
    'KOA May Pom War Dashboard':
    {
        lang: 'Angular + Node.js + PostgreSQL',
        desc: 'Private website that displays competition statistics and team rankings for the Knights of Academia 2020 Pom War',
    },
    'Teleprompter':
    {
        lang: 'Android (Java + Kotlin)',
        desc: 'Teleprompter Android App on the Google Play Store',
        sourceCode: 'https://github.com/debashisbiswas/teleprompter',
        projectLink: 'https://play.google.com/store/apps/details?id=com.maestoso.teleprompter'
    },
    'Todoica': 
    {
        lang: 'Heroku + Node.js',
        desc: 'Synchronizes tasks between task manager applications Todoist and Habitica',
        sourceCode: 'https://github.com/debashisbiswas/todoica',
    },
    'Bitmap Image Processor': 
    {
        lang: 'C',
        desc: 'Multithreaded C program that reads bitmap images and alters color data using multiple threads',
        sourceCode: 'https://github.com/debashisbiswas/multithreaded_bmpreader',
    },
    'Music Exercise Randomizer':
    {
        lang: 'Python',
        desc: 'Randomizes fundamental exercises to supplement music practice',
        sourceCode: 'https://github.com/debashisbiswas/music-fundamentals',
    },
    'Pitch Transposer':
    {
        lang: 'Python',
        desc: 'Transposes pitches between two specified keys',
        sourceCode: 'https://github.com/debashisbiswas/transposer',
    },
    'Clarinet Spectral Analysis Website':
    {
        lang: 'Firebase + HTML/CSS + Bootstrap',
        desc: 'Website displaying research findings of fellow music student',
        sourceCode: 'https://github.com/debashisbiswas/vashawn-analysis-website',
        projectLink: 'https://vashawn-clarinet.web.app/'
    },
    'Jazz Clarinet Methods Website':
    {
        lang: 'Firebase + HTML/CSS + Bootstrap',
        desc: 'Website displaying jazz clarinet methods developed by fellow music student',
        sourceCode: 'https://github.com/debashisbiswas/vashawn-analysis-website',
        projectLink: 'https://vashawn-clarinet.web.app/daily-jazz'
    },
}

const openSourceContributions = 
{
    'Habitica for Android':
    {
        lang: 'Java + Kotlin',
        desc: 'A habit-building application that uses game mechanics from classic RPGs to motivate users to achieve their goals',
        sourceCode: 'https://github.com/HabitRPG/habitica-android',
    },
    'Stardew Checkup':
    {
        lang: 'HTML/CSS/JS',
        desc: 'Checks achievement and milestone progress on a Stardew Valley save file',
        sourceCode: 'https://github.com/MouseyPounds/stardew-checkup',
    },
    'Horace':
    {
        lang: 'JavaScript + Node.js',
        desc: 'Discord bot that oversees the Knights of Academia Discord server',
        sourceCode: 'https://github.com/Knights-Of-Academia/horace',
    },
}

const musicPerformances = 
{
    'Astor Piazzolla: 3 Tangos (Live)':
    {
        date: 'November 21, 2020',
        embedLink: 'https://www.youtube.com/embed/bs_aJkjmj64?start=3407'
    },
    'Astor Piazzolla: 3 Tangos':
    {
        date: 'November 15, 2020',
        embedLink: 'https://www.youtube.com/embed/d8VvURsGo2E'
    },
    'Views of the Blues with Lizeth Gil':
    {
        date: 'April 25, 2020',
        embedLink: 'https://www.youtube.com/embed/txnp8mszRsU?start=2080'
    },
    'Szalowski: Sonatina - 1, 2':
    {
        date: 'December 2, 2019',
        embedLink: 'https://www.youtube.com/embed/JgM6tUMkcaY',
    },
    'Russell: Bass Clarinet Double Concerto (ensemble)':
    {
        date: 'November 22, 2019',
        embedLink: 'https://www.youtube.com/embed//k3XtJrf4-eI?start=4205',
    },
    'Weber: Concertino':
    {
        date: 'July 15, 2019',
        embedLink: 'https://www.youtube.com/embed/0YFkiAuHW-M',
    },
    'Shared Recital with Selena Graf':
    {
        date: 'April 14, 2019',
        embedLink: 'https://www.youtube.com/embed/7m8qzWEhSZM?start=565',
    },
    'Mandat: Tricolor Capers - 1, 2':
    {
        date: 'October 28, 2019',
        embedLink: 'https://www.youtube.com/embed/LWCXOTGhLk0',
    },
    'Mandat: Tricolor Capers - 1':
    {
        date: 'September 23, 2019',
        embedLink: 'https://www.youtube.com/embed/Wl-MR09BpGc',
    },
    'Devienne: Deuxieme Sonata':
    {
        date: 'March 18, 2019',
        embedLink: 'https://www.youtube.com/embed/MZBN6R462Zw',
    },
}

function isUndefined( aObject )
{
    return typeof aObject === 'undefined';
}

var theGridCardClasses = 'row row-cols-1 row-cols-md-2 row-cols-xl-3';
var theCardContainerClasses = 'col mb-4';

function generateProjectSection( aProjectObject )
{
    var theCards = '';
    for( projectName in aProjectObject )
    {
        var currentProject = aProjectObject[ projectName ];

        var theCardBody = `\
        <div class="card-body">
            <h5 class="card-title">${ projectName }</h5>
            <h6 class="card-subtitle mb-2 text-muted">${ currentProject.lang }</h6>
            <p class="card-text">${ currentProject.desc }</p>
        </div>`;

        // footer is required if either are defined
        var hasLink = !isUndefined( currentProject.sourceCode ) || !isUndefined( currentProject.projectLink );

        let theProjectLink = '';
        let theSourceCodeLink = '';
        let thePlaceholderEmptyLink = '';

        if( !isUndefined(currentProject.projectLink) )
        {
            theProjectLink = `\
            <div class="col">
                <a href="${ currentProject.projectLink }" target="_blank" class="btn btn-primary btn-block">See project</a>
            </div>`;
            hasLink = true;
        }

        if( !isUndefined( currentProject.sourceCode ) )
        {
            theSourceCodeLink = `\
            <div class="col">
                <a href="${ currentProject.sourceCode }" target="_blank" class="col btn btn-primary btn-block">Source code</a>
            </div>`;
            hasLink = true;
        }

        if( !hasLink )
        {
            thePlaceholderEmptyLink = `\
            <div class="col">
                <a href="${ currentProject.sourceCode }" target="_blank" class="col btn btn-secondary btn-block disabled">Private</a>
            </div>`;
        }

        var theCardFooter = `\
        <div class="card-footer">
            <div class="row">
                ${ theProjectLink }
                ${ theSourceCodeLink }
                ${ !hasLink ? thePlaceholderEmptyLink : '' }
            </div>
        </div>`;

        // add item
        theCards += `\
        <div class="${ theCardContainerClasses }">
            <div class="card text-center h-100">
                ${ theCardBody }
                ${ theCardFooter }
            </div>
        </div>`;
    }

    return `\
    <div class="${ theGridCardClasses }">
        ${ theCards }
    </div>`;
}

function generateMusicSection( aMusicObject )
{
    var theCards = '';
    for( performanceTitle in aMusicObject )
    {
        var currentPerformance = aMusicObject[ performanceTitle ];

        var theEmbedSection = `\
        <div class="embed-responsive embed-responsive-16by9">
            <iframe class="embed-responsive-item" src="${ currentPerformance.embedLink }" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>`;

        var theCardBody = `\
        <div class="card-body text-center">
            <h5 class="card-title">${ performanceTitle }</h5>
            <p class="card-text text-muted">${ currentPerformance.date }</p>
        </div>`;

        // add item
        theCards += `\
        <div class="${ theCardContainerClasses }">
            <div class="card text-center h-100">
                ${ theEmbedSection }
                ${ theCardBody }
            </div>
        </div>`;
    }

    return `\
    <div class="${ theGridCardClasses }">
        ${ theCards }
    </div>`;
}

$( document ).ready(() =>
{
    $( '#projects-placeholder' ).html( generateProjectSection( softwareProjects ) );
    $( '#opensourceprojects-placeholder' ).html( generateProjectSection( openSourceContributions ) );
    $( '#performances-placeholder' ).html( generateMusicSection( musicPerformances ) );
});
